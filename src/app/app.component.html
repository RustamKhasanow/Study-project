<app-global-error></app-global-error>
<div class="conteiner">

  <h1>{{ title | titlecase }}</h1>

  <input
  type="text"
  class="search-field"
  placeholder="Filter products..."
  [(ngModel)]="term"
  >

  <p class="loader" *ngIf="loading">Loading</p>
<div *ngIf="products$ | async as products">
    <app-product
      *ngFor="let product of products | filterProducts: term;"
      [product]="product"
      >
    </app-product>

    <app-modal *ngIf="modalService.isVisible$ | async" title="Create new product">

      <app-create-product></app-create-product>

    </app-modal>

    <button
    (click)="modalService.open()"
    >New product</button>

</div>
